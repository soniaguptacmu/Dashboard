<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE">

    <!-- jquery -->
    <script type="text/javascript" src="../static/node_modules/jquery/dist/jquery.min.js"></script>
    <!-- bootstrap -->
    <script type="text/javascript" src="../static/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../static/node_modules/bootstrap/dist/css/bootstrap.min.css" media="all">
    <!-- jquery validation -->
    <script type="text/javascript" src="../static/node_modules/jquery-validation/dist/jquery.validate.min.js"></script>
    <!-- jquery fancytree -->
    <script type="text/javascript" src="../static/node_modules/jquery.fancytree/dist/jquery.fancytree-all-deps.min.js"></script>
    <link rel="stylesheet" href="../static/node_modules/jquery.fancytree/dist/skin-lion/ui.fancytree.min.css" media="all">
    <!-- jquery datatables -->
    <script type="text/javascript" src="../static/node_modules/datatables/media/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="../static/node_modules/datatables/media/css/jquery.dataTables.min.css" media="all">
    <!-- bootstrap daterangepicker -->
    <script type="text/javascript" src="../static/node_modules/moment/min/moment.min.js"></script>
    <script type="text/javascript" src="../static/node_modules/bootstrap-daterangepicker/daterangepicker.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/node_modules/bootstrap-daterangepicker/daterangepicker.css">
    <!-- font awesome -->
    <link rel="stylesheet" href="../static/node_modules/font-awesome/css/font-awesome.min.css">
    <!-- google charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <script type="text/javascript" src="../static/js/common.js"></script>
    <script type="text/javascript" src="../static/js/report.js"></script>
    <link rel="stylesheet" href="../static/css/main.css" media="all">

    <title>Report Mastery</title>
</head>

<body class="">
    <header id="masthead" class="site-header">
        <div class="inner">
            <h1 class="site-title"><a class="site-title-link" href="/">Nalanda Project</a></h1>
            <span style="color:#ffffff">Current User: {{ "current_user" }}</span>
            <a href="/logout" class="log-out" title="Log Out"><i class="glyphicon glyphicon-log-out"></i> Log Out</a>
        </div>
    </header>
    <div id="main" class="site-main">
        <div class="content-area">
            <div id="primary" class="site-content">
                <div class="report-header">
                    <h1 class="page-title">Mastery Report</h1>
                    <div class="btn-group report-types" role="group">
                        <button type="button" class="btn btn-primary switch-view-button switch-view-button-1" onclick="switchView(1);"><i class="fa fa-table" aria-hidden="true"></i> Table</button>
                        <button type="button" class="btn btn-default switch-view-button switch-view-button-2" onclick="switchView(2);"><i class="fa fa-align-left" aria-hidden="true"></i> Compare</button>
                        <button type="button" class="btn btn-default switch-view-button switch-view-button-3" onclick="switchView(3);">Performance</button>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="report-settings row">
                    <div class="topic col-md-6">
                        Topic: 
                        <button class="btn btn-default" type="button" onclick="toggleTopicDropdown();">
                            Everything
                            <span class="caret"></span>
                        </button>
                        <div id="topic-dropdown-container" class="topic-dropdown-container">
	                        <div class="search">
		                        <input type="search" id="topic-filter-field" placeholder="Filter topics...">
		                        <i id="reset-search" class="fa fa-times" aria-hidden="true"></i>
	                        </div>
                            <div id="topics-tree"></div>
                            <div class="controls">
	                            <button class="btn btn-default btn-xs btn-primary" onclick="applyAndDismissTopicDropdown()">Apply</button>
	                            <button class="btn btn-default btn-xs" onclick="toggleTopicDropdown()">Cancel</button>
                            </div>
                        </div>
                    </div>
                    <div class="dates col-md-6">
                        <div class="datepicker-title">Data Range:</div>
                        <input class="daterangepicker" name="daterange">
                    </div>
                </div>
                <div class="report-breadcrumb"></div>
                <div class="report-content">
                    <div class="table-view report-view report-view-1">
                        <table id="data-table" class="display" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <!-- metric columns -->
                                    <th class="trend-column">Trend</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- data rows -->
                            </tbody>
                        </table>
                        <h2 class="section-title">Aggregrations</h2>
                        <table id="aggregation-table" class="display" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <!-- metric columns -->
                                    <th class="trend-column"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- data rows -->
                            </tbody>
                        </table>
                        <div class="trend-chart hidden">
                            <div class="chart-container">
                                <div class="dismiss-chart-button" onclick="dismissTrendChart();"><i class="fa fa-window-close" aria-hidden="true"></i></div>
                                <div id="chart-wrapper"></div>
                            </div>
                        </div>
                    </div>
                    <div class="compare-view report-view report-view-2 hidden">
                        <table id="data-compare-table" class="display" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th class="name-column">Name</th>
                                    <th>
                                        Metric:
                                        <div class="dropdown">
                                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                <span class="current-metric">Metric to Compare</span>
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-dropdownMenu1" aria-labelledby="dropdownMenu1"></ul>
                                        </div>
                                    </th>
                                    <th class="bar-column"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- data rows -->
                            </tbody>
                        </table>
                    </div>
                    <div class="performance-view report-view report-view-3 hidden">
                        <table id="data-performance-table" class="display" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th class="name-column">Name</th>
                                    <th>
                                        <div class="dropdown">
                                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                <span class="current-metric">Metric to Compare</span>
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-metric dropdown-dropdownMenu2" aria-labelledby="dropdownMenu2"></ul>
                                        </div>
                                    </th>
                                    <th class="bar-column">
                                        Compare to:
                                        <div class="dropdown">
                                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                <span class="current-compared-value">Max</span>
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-value dropdown-dropdownMenu3" aria-labelledby="dropdownMenu3">
                                                <li class="compare-max"><a href="#" onclick="performanceViewSetComparedValue('max');">Max</a></li>
                                                <li class="compare-min"><a href="#" onclick="performanceViewSetComparedValue('min');">Min</a></li>
                                                <li class="compare-average"><a href="#" onclick="performanceViewSetComparedValue('average');">Average</a></li>
                                                <li class="compare-median"><a href="#" onclick="performanceViewSetComparedValue('median');">Median</a></li>
                                            </ul>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- data rows -->
                            </tbody>
                        </table>                        
                    </div>
                </div>
            </div>
        </div>
        <div id="secondary" class="site-sidebar">
            <ul class="site-navigation">
                <li class="heading">Admin</li>
                <li class="navigation-item"><a href="/admin-users"><i class="glyphicon glyphicon-user"></i>&nbsp; Users</a></li>
                <li class="heading">Reports</li>
                <li class="navigation-item current"><a href="/report-mastery">Mastery</a></li>
            </ul>
        </div>
    </div>
    <!-- .site-main -->
    <footer id="colophon" class="site-footer">
        &copy; 2017 Carnegie Mellon University
    </footer>
</body>
</html>